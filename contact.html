<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تماس با ما - فروشگاه خزائی</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100..900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-vazir scrollbar">
    <header class="bg-white dark:bg-gray-800 shadow p-4 flex justify-between items-center relative">
        <div class="flex items-center">
            <a href="/">
                <img src="assets/img/khazaeistore-logo.png" alt="Logo" class="h-16 ml-4" />
            </a>
            <h1 class="text-2xl font-bold text-gray-800 dark:text-white hidden md:block">
                فروشگاه خزائی
            </h1>
        </div>
        <div class="relative w-1/2 md:w-1/3 lg:w-1/4">
            <input id="search-input" type="text" placeholder="جستجو..."
                class="w-full p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 outline-none border border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 transition" />
            <div id="search-dropdown" class="hidden absolute left-0 w-full mt-1 bg-white dark:bg-gray-800 rounded shadow-lg"></div>
        </div>
        <nav class="hidden md:flex items-center space-x-4 space-x-reverse">
            <a href="/contact.html" class="hover:underline text-gray-800 dark:text-white"> تماس با ما</a>
            <button id="theme-toggle" class="bg-gray-300 dark:bg-gray-700 p-2 rounded text-gray-800 dark:text-white">
                تغییر تم
            </button>
        </nav>
        <button id="menu-toggle" class="md:hidden p-2 rounded bg-gray-300 dark:bg-gray-700">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <nav id="mobile-menu" class="md:hidden hidden flex-col space-y-2 p-4 bg-gray-200 dark:bg-gray-700">
        <a href="#" class="hover:underline text-gray-800 dark:text-white"> تماس با ما</a>
        <button id="mobile-theme-toggle" class="bg-gray-300 dark:bg-gray-700 p-2 rounded text-gray-800 dark:text-white">
            تغییر تم
        </button>
    </nav>

    <main class="p-8">
        <section id="contact" class="bg-gray-200 dark:bg-gray-700 p-8 rounded-lg mb-8">
            <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold mb-8 text-center text-gray-800 dark:text-white">
                تماس با ما
            </h2>
            
            <!-- Contact Info Section -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">اطلاعات تماس</h3>
                <p class="text-gray-800 dark:text-white mb-2"><strong>نشانی:</strong> ایران - استان همدان - شهرستان نهاوند - شهر فیروزان - شهرک فرهنگیان - خیابان 18 متری سهروردی</p>
                <p class="text-gray-800 dark:text-white mb-2"><strong>کد پستی:</strong> 6598138946</p>
                <p class="text-gray-800 dark:text-white mb-2"><strong>تلفن:</strong> 09181519233</p>
                <p class="text-gray-800 dark:text-white mb-2"><strong>ایمیل:</strong> info@khazaeistore.com</p>
            </div>

            <!-- Form and Map Section -->
            <div class="flex flex-col md:flex-row gap-8">
                <!-- Contact Form -->
                <div class="flex-1 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">فرم تماس</h3>
                    <form id="contactForm" onsubmit="submitForm(event)" class="space-y-6">
                        <div>
                            <label for="name" class="block text-gray-800 dark:text-white">نام:</label>
                            <input type="text" id="name" name="name" class="w-full p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 outline-none border border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 transition" required>
                        </div>
                        <div>
                            <label for="email" class="block text-gray-800 dark:text-white">ایمیل:</label>
                            <input type="email" id="email" name="email" class="w-full p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 outline-none border border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 transition" required>
                        </div>
                        <div>
                            <label for="message" class="block text-gray-800 dark:text-white">پیام:</label>
                            <textarea id="message" name="message" rows="4" class="w-full p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100 outline-none border border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 transition" required></textarea>
                        </div>
                        <button type="submit" class="w-full p-2 bg-blue-500 dark:bg-blue-700 text-white rounded hover:bg-blue-600 dark:hover:bg-blue-800 transition">
                            <i class="fas fa-paper-plane ml-2"></i>
                            ارسال ایمیل
                        </button>
                    </form>
                </div>

                <!-- Map -->
                <div class="flex-1 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">موقعیت ما</h3>
                    <div class="w-full h-[450px] rounded-lg overflow-hidden">
                        <iframe id="google-map" 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d823.3614183133905!2d48.111103530352324!3d34.36458340534694!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ff1d5006748aff9%3A0x8b4108a80d70f895!2z2YHYsdmI2LTar9in2Ycg2K7YtNqp2KjYp9ixINiu2LLYp9im24w!5e0!3m2!1sfa!2s!4v1721400524888!5m2!1sfa!2s" 
                                class="w-full h-full" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white dark:bg-gray-800 text-gray-800 dark:text-white shadow p-4 text-center mt-8">
        <p>&copy; 2024 فروشگاه خزائی</p>
    </footer>

    <script src="assets/js/theme-toggle.js"></script>
    <script src="assets/js/script.js"></script>
    <script>
        function submitForm(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            
            const body = `Name: ${name}%0D%0AEmail: ${email}%0D%0AMessage: ${message}`;
            
            window.location.href = `mailto:info@khazaeistore.com?subject=Contact Form&body=${body}`;
        }

        // Add this before the existing scripts
        function updateMapStyle() {
            const isDark = document.documentElement.classList.contains('dark');
            const mapFrame = document.getElementById('google-map');
            const currentSrc = mapFrame.src;
            const darkMode = '&style=element:geometry%7Ccolor:0x212121&style=element:labels.icon%7Cvisibility:off&style=element:labels.text.fill%7Ccolor:0x757575&style=element:labels.text.stroke%7Ccolor:0x212121&style=feature:administrative%7Celement:geometry%7Ccolor:0x757575&style=feature:administrative.country%7Celement:labels.text.fill%7Ccolor:0x9e9e9e&style=feature:administrative.land_parcel%7Cvisibility:off&style=feature:administrative.locality%7Celement:labels.text.fill%7Ccolor:0xbdbdbd&style=feature:poi%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:poi.park%7Celement:geometry%7Ccolor:0x181818&style=feature:poi.park%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:poi.park%7Celement:labels.text.stroke%7Ccolor:0x1b1b1b&style=feature:road%7Celement:geometry.fill%7Ccolor:0x2c2c2c&style=feature:road%7Celement:labels.text.fill%7Ccolor:0x8a8a8a&style=feature:road.arterial%7Celement:geometry%7Ccolor:0x373737&style=feature:road.highway%7Celement:geometry%7Ccolor:0x3c3c3c&style=feature:road.highway.controlled_access%7Celement:geometry%7Ccolor:0x4e4e4e&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:transit%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:water%7Celement:geometry%7Ccolor:0x000000&style=feature:water%7Celement:labels.text.fill%7Ccolor:0x3d3d3d';
            
            let newSrc = currentSrc.split('&style=')[0]; // Remove any existing style
            if (isDark) {
                newSrc += darkMode;
            }
            mapFrame.src = newSrc;
        }

        // Update map style when theme changes
        const themeToggleButton = document.getElementById('theme-toggle');
        themeToggleButton.addEventListener('click', () => {
            setTimeout(updateMapStyle, 100); // Slight delay to ensure theme has changed
        });

        // Initial map style update
        updateMapStyle();
    </script>
</body>

</html>
